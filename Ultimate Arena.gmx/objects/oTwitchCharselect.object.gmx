<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.IDselected = -1;
global.arena_events = 1;
global.custom_updates = 1;
global.custom_sounds = 1;
global.landmines = 1;
global.fighterGroups = 1;
startgame = 0;
timeRemainingM = 0;
timeRemainingS = 0;
oTwitchController.voteType = 1;
phase = "Character Selection"

alarm[0] = global.SELECTIONTIME * 60;

irc_send_message("The voting period has begun.");

for(var i = 0;i &lt; global.lNAME;i+=6)
{
    for(var z = 0;z &lt; 6;z++)
    {
        if(z+i &lt; global.lNAME)
        {
            var c = instance_create(i/6 * 110,z * 110 + 110,oTwitchCharbox);
            c.name = global.cNAME[z+i];
            c.ID = z+i;
        }
    
    
    }
    
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var i = 1;
if(directory_exists(working_directory + "characters"))
{
    global.fNAME[0] = file_find_first(working_directory + "characters\*ini", 0);
    global.path = filename_dir(global.fNAME[0]);
    ini_open(working_directory + "characters\" + global.fNAME[0]);
    global.cNAME[0] = ini_read_string("character","name","NAMING ERROR");
    cImage = ini_read_string("character","image","sFighterImage");
    if (cImage != "sFighterImage")
        global.IMAGES[0] = sprite_add(working_directory + "characters\" + cImage,1,0,0,0,0);
    else
        global.IMAGES[0] = sFighterImage; 
                
}

ini_close();

global.fNAME[i] = file_find_next();

while(global.fNAME[i] != "")
{
    ini_open(working_directory + "characters\" + global.fNAME[i]);
    global.cNAME[i] = ini_read_string("character","name","NAMING ERROR");
    cImage = ini_read_string("character","image","sFighterImage");
    if (cImage != "sFighterImage")
        global.IMAGES[i] = sprite_add(working_directory + "characters\" + cImage,1,0,0,0,0);
    else
        global.IMAGES[i] = sFighterImage; 
            
    ini_close();
    i++;
    global.fNAME[i] = file_find_next();
}
file_find_close();
global.lNAME = i;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>startgame++;
alarm[0] = global.SELECTIONTIME * 60;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
timeRemainingM = 0
timeRemainingS = floor(alarm[0] / 60);

if (startgame == 1)
{
    oTwitchController.voteType = 2;
    phase = "Bet on the winner!"
    
    irc_send_message("The betting period has begun.");
    
    var temp1, temp2;
    for ( i = 0; i &lt; global.lNAME; i++)
    {
        for ( j = i + 1; j &lt; global.lNAME; j += 1 )
        {
            if ( oTwitchController.fighterVotes[j,0] &gt; oTwitchController.fighterVotes[i,0])
            {
             temp1 = oTwitchController.fighterVotes[j,0];
             temp2 = oTwitchController.fighterVotes[j,1];
             oTwitchController.fighterVotes[j,0] = oTwitchController.fighterVotes[i,0]
             oTwitchController.fighterVotes[j,1] = oTwitchController.fighterVotes[i,1]
             oTwitchController.fighterVotes[i,0] = temp1;
             oTwitchController.fighterVotes[i,1] = temp2;
            }    
        }
    }
    with(oTwitchCharbox)
    {
        instance_destroy();
    }
    for(i = 0;i &lt; 10;i++)
    {
        for(z = 0;z &lt; 6;z++)
        {
    
            c = instance_create(i*100+50,z * 110 + 110,oTwitchCharbox2);
            c.name = global.cNAME[oTwitchController.fighterVotes[z*10+i,1]];
            c.ID1 = z*10+i;
            c.ID2 = oTwitchController.fighterVotes[z*10+i,1];
            c.fID = c.ID1;
        }
    
    
    }
    startgame++;
}
else if (startgame == 3)
{
    
    
    for(i = 0; i &lt; 60; i++)
    {   
        
        file = global.fNAME[oTwitchController.fighterVotes[i,1]]
        ini_open(working_directory + "characters\" + file);
        global.NAMES[i+1] = ini_read_string("character","name","NAMING ERROR");
        global.GENDER[i+1] = ini_read_real("character","gender",0);
        global.SOUNDS[i+1] = ini_read_string("character","deathsound","");
        global.FILES[i+1] = file;
        
        var r = ini_read_real("character","colorr",255);
        var g = ini_read_real("character","colorg",255);
        var b = ini_read_real("character","colorb",255);
        global.COLORS[i+1] = make_color_rgb(r,g,b);
        
        global.STATS[i+1,0] = max(min(10,ini_read_real("character","strength",5)),1);
        global.STATS[i+1,1] = max(min(10,ini_read_real("character","agility",5)),1);
        global.STATS[i+1,2] = max(min(10,ini_read_real("character","endurance",5)),1);
        global.STATS[i+1,3] = max(min(10,ini_read_real("character","skill",5)),1);
        global.STATS[i+1,4] = max(min(10,ini_read_real("character","luck",5)),1);
        
        cImage = ini_read_string("character","image","sFighterImage");
        if (cImage != "sFighterImage")
            global.IMAGES[i+1] = sprite_add(working_directory + "characters\" + cImage,1,0,0,0,0);
        else
            global.IMAGES[i+1] = sFighterImage; 
        ini_close();

    }

    global.IMAGES[0] = sFighterImage;
    global.fighters = 60;
    irc_send_message("The match has started! Best of luck to all fighters!");
    c = instance_create(0,0,oRoomTransition);
    c.gotoroom = rm_game;
    startgame = 4;
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_set_font(font4);
draw_set_color(c_white);
draw_set_valign(fa_top);
draw_set_halign(fa_center);

draw_text(room_width/2,5,phase + " - Time Remaining: " + string(timeRemainingS) + " seconds");
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
